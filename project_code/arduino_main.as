package  {		import flash.display.MovieClip;	import flash.events.DataEvent;	import flash.events.Event;	import flash.events.IOErrorEvent;		public class arduino_main extends MovieClip {				private var a:Arduino;		private var aStr:String;		private var aArr:Array;		public function arduino_main() {			// constructor code			config();		}		function config():void		{			a = new Arduino(5331);			a.addEventListener(Event.CLOSE, closeHandler);			a.addEventListener(Event.CONNECT, connectHandler);			a.addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);			a.addEventListener(DataEvent.DATA, receiveData);		}				//接收從Arduino的數值		function receiveData(event:DataEvent):void		{			aStr = event.data;			aArr=aStr.split(',');			trace(aStr);			if(aArr.length>=2){				txt_btn.text=aArr[1];				switch(aArr[1]){					case 'bOn':						circle_mc.gotoAndStop(2);						break;					case 'bOff':						circle_mc.gotoAndStop(1);						break;				}			}else{				txt_btn.text='';			}			txt_rot.text=aArr[0];			rotate_mc.rotation=			Number(aArr[0])/10;		}				function connectHandler(event:Event):void		{			trace("** Arduino ** Connect");		}				// close handler		function closeHandler(event:Event):void		{			config();			trace("** Arduino ** disconnected");		}				// io error handler		function ioErrorHandler(event:IOErrorEvent):void		{			trace("** Arduino ** Connection failed! you must launch the serialProxy first");		}	}	}